{%extends "layout.html" %}

{%block head %}

        {% block title %}
            {% if title %}
{{title}}
            {%else%}
            Account
            {%endif%}
        {% endblock title %}

    {%endblock head%}


{%block content %}
<!-- One single card container -->
<div class="card shadow-sm rounded-4 border-light-subtle mb-4">

    <!-- Header title inside the body for that "Profile" look -->
    <div class="card-body p-4">
        <h5 class="fw-bold mb-4">Profile Information</h5>

        <!-- This is where your Profile content goes -->
        <div class="d-flex align-items-center">
            <!-- Placeholder for your icon/avatar -->
            <div class="rounded-circle bg-light d-flex align-items-center justify-content-center" style="width: 80px; height: 80px;">
                <div class="rounded-circle overflow-hidden" style="width: 100px; height: 100px;">
                    <img src="{{ image }}"
                         alt="Profile"
                         style="width: 100%; height: 100%; object-fit: cover;">
                </div>
                <i class="bi bi-person fs-2"></i>
            </div>

            <div class="ms-3">
                <h5 class="mb-1 fw-bold">{{current_user.username}}</h5>


            </div>
        </div>
    </div>


</div>
<div class="card shadow-sm rounded-4 border-light-subtle mb-4">
    <div class="card-body p-4">

        <h5>Email</h5>
        <p class="text-muted">{{current_user.email}}</p>

    </div>
</div>
<div class="content-section">
    <form method="POST" action="" enctype="multipart/form-data">
        {{form.hidden_tag()}}

        <div class="row mb-3">
            {{form.username.label(class="col-sm-2 col-form-label")}}
            <div class="col-sm-10">
                {% if form.username.errors %}
                {{ form.username(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.username.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.username(class="form-control") }}
                {% endif %}



            </div>
        </div>
        <div class="row mb-3">
            {{form.email.label(class="col-sm-2 col-form-label")}}
            <div class="col-sm-10">
                {% if form.email.errors %}
                {{ form.email(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.email.errors %}
                    <span>{{ error }}</span>
                    {% endfor %}
                </div>
                {% else %}
                {{ form.email(class="form-control") }}
                {% endif %}
            </div>
        </div>
        <div class="row mb-3">
            {{form.picture.label(class="col-sm-2 col-form-label")}}
            <div class="col-sm-10">
                {% if form.picture.errors %}
                {{ form.picture(class="form-control is-invalid") }}
                <div class="invalid-feedback">
                    {% for error in form.picture.errors %}
                    <span class="text-danger">{{ error }}</span><br />
                    {% endfor %}
                </div>
                {% else %}
                {{ form.picture(class="form-control") }}
                {% endif %}
            </div>
        </div>



        <button type="submit" class="btn btn-primary">Update</button>

    </form>
</div>
    {%endblock content %}
